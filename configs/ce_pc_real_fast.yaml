exp: real_dev
seed: 42

data:
  raw_dir: data/raw_real
  interim_dir: data/interim_real
  processed_dir: data/processed
  chunk_max_len: 512
  stride: 128

rerank:
  agg: max  # Aggregation method for chunk-level scores (max, mean, topm)
  topm: 2   # Top-m parameter for topm aggregation

train:
  lr: 1e-3
  batch_size: 16  # Reduced from 32 to avoid OOM without gradient checkpointing
  epochs: 100
  patience: 10  # Stricter early stopping (was 20)
  use_amp: true
  amp_dtype: bf16
  bf16: true
  grad_accum: 8  # Increased from 4 to maintain effective batch size = 128
  gradient_checkpointing: false  # DISABLED for faster, more stable training
  num_workers: 8
  save_steps: 2000
  shuffle: true
  dataloader_pin_memory: true
  dataloader_prefetch_factor: 2
  warmup_ratio: 0.1  # 10% warmup for better initialization stability
